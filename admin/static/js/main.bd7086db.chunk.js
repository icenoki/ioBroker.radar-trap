(this["webpackJsonpiobroker.radar-trap"]=this["webpackJsonpiobroker.radar-trap"]||[]).push([[0],{419:function(e,t){},422:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Adapter settings for radar-trap","route":"route","routes":"routes","maps":"maps","settings":"settings","edit":"edit","renew":"renew","start":"start","target":"target","delete":"delete","add route":"add route","Mapbox Token":"Mapbox Token","Feathers Port":"Feathers Port","edit route":"edit route","description":"description","country":"country","postcode":"postcode","location":"location","street":"street","house number":"house number","refresh cycle in minutes":"refresh cycle in minutes","profile":"profile","exclusions":"exclusions","driving":"For automotive routing. This profile shows the fastest routes by preferring high-speed roads like highways.","driving-traffic":"For automotive routing. This profile factors in current and historic traffic conditions to avoid slowdowns.","cycling":"For bicycle routing. This profile shows routes that are short and safer for cyclists by avoiding highways and preferring streets with bike lanes.","walking":"For pedestrian and hiking routing. This profile shows the shortest path by using sidewalks and trails.","toll":"toll","ferry":"ferry","motorway":"motorway","name for the starting point":"name for the starting point","name for the target point":"name for the target point","domains":"domains"}')},423:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Adaptereinstellungen f\xfcr Radarfalle","route":"Route","routes":"Routen","maps":"Karten","settings":"Einstellungen","edit":"bearbeiten","renew":"erneuern","start":"Start","target":"Ziel","delete":"l\xf6schen","add route":"Route hinzuf\xfcgen","Mapbox Token":"Mapbox Token","Feathers Port":"Feathers Port","edit route":"Route bearbeiten","description":"Bezeichnung","country":"Land","postcode":"PLZ","location":"Ort","street":"Strasse","house number":"Hausnummer","refresh cycle in minutes":"Refreshzyklus in Minuten","profile":"Profil","exclusions":"Ausschl\xfcsse","driving":"F\xfcr Autorouten. Dieses Profil zeigt die schnellsten Routen, indem Hochgeschwindigkeitsstra\xdfen wie Autobahnen bevorzugt werden.","driving-traffic":"F\xfcr Autorouten. Dieses Profil ber\xfccksichtigt aktuelle und historische Verkehrsbedingungen, um Verlangsamungen zu vermeiden.","cycling":"F\xfcr Fahrradrouten. Dieses Profil zeigt Routen, die f\xfcr Radfahrer kurz und sicherer sind, indem Autobahnen vermieden und Stra\xdfen mit Radwegen bevorzugt werden.","walking":"F\xfcr Fu\xdfg\xe4nger- und Wanderrouten. Dieses Profil zeigt den k\xfcrzesten Weg unter Verwendung von Gehwegen und Pfaden.","toll":"Maut","ferry":"F\xe4hren","motorway":"Autobahnen","name for the starting point":"Bezeichnung f\xfcr den Startpunkt","name for the target point":"Bezeichnung f\xfcr den Zielpunkt","domains":"Dom\xe4nen"}')},424:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0434\u0430\u043f\u0442\u0435\u0440\u0430 \u0434\u043b\u044f \u0420\u041b\u0421-\u043b\u043e\u0432\u0443\u0448\u043a\u0438","edit":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","routes":"\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b","maps":"\u043a\u0430\u0440\u0442\u044b","settings":"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","renew":"\u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","start":"\u041d\u0430\u0447\u043d\u0438\u0442\u0435","target":"\u0446\u0435\u043b\u044c","delete":"\u0443\u0434\u0430\u043b\u044f\u0442\u044c","add route":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442","route":"\u043c\u0430\u0440\u0448\u0440\u0443\u0442","Mapbox Token":"\u0422\u043e\u043a\u0435\u043d Mapbox","Feathers Port":"\u041f\u0435\u0440\u044c\u044f \u041f\u043e\u0440\u0442","Feathers-Port":"\u041f\u0435\u0440\u044c\u044f-\u041f\u043e\u0440\u0442","edit route":"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442","description":"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","country":"\u0441\u0442\u0440\u0430\u043d\u0430","postcode":"\u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441","location":"\u043c\u0435\u0441\u0442\u043e \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f","street":"\u0443\u043b\u0438\u0446\u0430","house number":"\u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430","refresh cycle in minutes":"\u0446\u0438\u043a\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u043c\u0438\u043d\u0443\u0442\u0430\u0445","profile":"\u043f\u0440\u043e\u0444\u0438\u043b\u044c","exclusions":"\u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","driving":"\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432. ","driving-traffic":"\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432. ","cycling":"\u0414\u043b\u044f \u0432\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u043d\u044b\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432. ","walking":"\u0414\u043b\u044f \u043f\u0435\u0448\u0435\u0445\u043e\u0434\u043d\u044b\u0445 \u0438 \u043f\u0435\u0448\u0435\u0445\u043e\u0434\u043d\u044b\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432. ","toll":"\u043f\u043e\u0442\u0435\u0440\u0438","ferry":"\u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0438\u0442\u044c","motorway":"\u0430\u0432\u0442\u043e\u043c\u0430\u0433\u0438\u0441\u0442\u0440\u0430\u043b\u044c","name for the starting point":"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438","name for the target point":"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0442\u043e\u0447\u043a\u0438","domains":"\u0434\u043e\u043c\u0435\u043d\u044b"}')},425:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Configura\xe7\xf5es do adaptador para armadilha de radar","edit":"editar","routes":"rotas","maps":"mapas","settings":"defini\xe7\xf5es","renew":"renovar","start":"come\xe7ar","target":"alvo","delete":"excluir","add route":"adicionar rota","route":"rota","Mapbox Token":"Token de Mapbox","Feathers Port":"Porto de Penas","Feathers-Port":"Penas-Porto","edit route":"editar rota","description":"Descri\xe7\xe3o","country":"pa\xeds","postcode":"c\xf3digo postal","location":"localiza\xe7\xe3o","street":"rua","house number":"n\xfamero da casa","refresh cycle in minutes":"ciclo de atualiza\xe7\xe3o em minutos","profile":"perfil","exclusions":"exclus\xf5es","driving":"Para roteamento automotivo. ","driving-traffic":"Para roteamento automotivo. ","cycling":"Para roteamento de bicicletas. ","walking":"Para rotas de pedestres e caminhadas. ","toll":"ped\xe1gio","ferry":"balsa","motorway":"autoestrada","name for the starting point":"nome para o ponto de partida","name for the target point":"nome para o ponto alvo","domains":"dom\xednios"}')},426:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Adapterinstellingen voor radarval","edit":"bewerking","routes":"routes","maps":"kaarten","settings":"instellingen","renew":"vernieuwen","start":"begin","target":"doelwit","delete":"verwijderen","add route":"route toevoegen","route":"route","Mapbox Token":"Mapbox-token","Feathers Port":"Veren Poort","Feathers-Port":"Veren-Port","edit route":"route bewerken","description":"Omschrijving","country":"land","postcode":"postcode","location":"plaats","street":"straat","house number":"huisnummer","refresh cycle in minutes":"verversingscyclus in minuten","profile":"profiel","exclusions":"uitsluitingen","driving":"Voor autoroutering. ","driving-traffic":"Voor autoroutering. ","cycling":"Voor fietsroutering. ","walking":"Voor wandelroutes en wandelroutes. ","toll":"tol","ferry":"veerboot","motorway":"snelweg","name for the starting point":"naam voor het startpunt","name for the target point":"naam voor het richtpunt","domains":"domeinen"}')},427:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Param\xe8tres de l\'adaptateur pour radar-trap","edit":"\xc9diter","routes":"itin\xe9raires","maps":"Plans","settings":"Les param\xe8tres","renew":"renouveler","start":"d\xe9but","target":"cible","delete":"effacer","add route":"ajouter un itin\xe9raire","route":"route","Mapbox Token":"Jeton Mapbox","Feathers Port":"Port de plumes","Feathers-Port":"Plumes-Port","edit route":"modifier l\'itin\xe9raire","description":"la description","country":"pays","postcode":"code postal","location":"emplacement","street":"rue","house number":"num\xe9ro de maison","refresh cycle in minutes":"cycle de rafra\xeechissement en minutes","profile":"profil","exclusions":"exclusions","driving":"Pour le routage automobile. ","driving-traffic":"Pour le routage automobile. ","cycling":"Pour le routage des v\xe9los. ","walking":"Pour les itin\xe9raires pi\xe9tons et randonn\xe9es. ","toll":"peage","ferry":"traversier","motorway":"autoroute","name for the starting point":"nom du point de d\xe9part","name for the target point":"nom du point cible","domains":"domaines"}')},428:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Impostazioni dell\'adattatore per trappola radar","edit":"modificare","routes":"itinerari","maps":"mappe","settings":"impostazioni","renew":"rinnovare","start":"cominciare","target":"obbiettivo","delete":"Elimina","add route":"aggiungi percorso","route":"rotta","Mapbox Token":"Gettone Mapbox","Feathers Port":"Porto di piume","Feathers-Port":"Feathers-Port","edit route":"modifica percorso","description":"descrizione","country":"nazione","postcode":"codice postale","location":"Posizione","street":"strada","house number":"numero di casa","refresh cycle in minutes":"ciclo di aggiornamento in minuti","profile":"profilo","exclusions":"esclusioni","driving":"Per il percorso automobilistico. ","driving-traffic":"Per il percorso automobilistico. ","cycling":"Per il percorso in bicicletta. ","walking":"Per percorsi pedonali ed escursionistici. ","toll":"pedaggio","ferry":"traghetto","motorway":"autostrada","name for the starting point":"nome per il punto di partenza","name for the target point":"nome per il punto di destinazione","domains":"domini"}')},429:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Ajustes del adaptador para trampa de radar","edit":"editar","routes":"rutas","maps":"mapas","settings":"ajustes","renew":"renovar","start":"comienzo","target":"objetivo","delete":"Eliminar","add route":"agregar ruta","route":"ruta","Mapbox Token":"Token de Mapbox","Feathers Port":"Puerto de plumas","Feathers-Port":"Plumas-Puerto","edit route":"editar ruta","description":"descripci\xf3n","country":"pa\xeds","postcode":"c\xf3digo postal","location":"localizaci\xf3n","street":"calle","house number":"n\xfamero de casa","refresh cycle in minutes":"ciclo de actualizaci\xf3n en minutos","profile":"perfil","exclusions":"exclusiones","driving":"Para enrutamiento automotriz. ","driving-traffic":"Para enrutamiento automotriz. ","cycling":"Para rutas en bicicleta. ","walking":"Para rutas peatonales y de senderismo. ","toll":"peaje","ferry":"transportar","motorway":"autopista","name for the starting point":"nombre del punto de partida","name for the target point":"nombre del punto de destino","domains":"dominios"}')},430:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"Ustawienia adaptera dla pu\u0142apki radarowej","edit":"edytowa\u0107","routes":"trasy","maps":"mapy","settings":"ustawienia","renew":"odnowi\u0107","start":"pocz\u0105tek","target":"cel","delete":"kasowa\u0107","add route":"dodaj tras\u0119","route":"trasa","Mapbox Token":"Token mapy","Feathers Port":"Pi\xf3ra Port","Feathers-Port":"Pi\xf3ra-Port","edit route":"edytuj tras\u0119","description":"opis","country":"kraj","postcode":"kod pocztowy","location":"Lokalizacja","street":"ulica","house number":"numer domu","refresh cycle in minutes":"cykl od\u015bwie\u017cania w kilka minut","profile":"profil","exclusions":"wykluczenia","driving":"Do tras samochodowych. ","driving-traffic":"Do tras samochodowych. ","cycling":"Do tras rowerowych. ","walking":"Do wyznaczania tras pieszych i pieszych. ","toll":"myto","ferry":"prom","motorway":"Autostrada","name for the starting point":"nazwa punktu wyj\u015bcia","name for the target point":"nazwa punktu docelowego","domains":"domeny"}')},431:function(e){e.exports=JSON.parse('{"radar-trap adapter settings":"\u96f7\u8fbe\u9677\u9631\u7684\u9002\u914d\u5668\u8bbe\u7f6e","edit":"\u7f16\u8f91","routes":"\u8def\u7ebf","maps":"\u5730\u56fe","settings":"\u8bbe\u7f6e","renew":"\u66f4\u65b0","start":"\u5f00\u59cb","target":"\u76ee\u6807","delete":"\u5220\u9664","add route":"\u6dfb\u52a0\u8def\u7ebf","route":"\u8def\u7ebf","Mapbox Token":"Mapbox \u4ee4\u724c","Feathers Port":"\u7fbd\u6bdb\u6e2f","Feathers-Port":"\u7fbd\u6bdb\u7aef\u53e3","edit route":"\u7f16\u8f91\u8def\u7ebf","description":"\u63cf\u8ff0","country":"\u56fd\u5bb6","postcode":"\u90ae\u653f\u7f16\u7801","location":"\u5730\u70b9","street":"\u8857\u9053","house number":"\u95e8\u724c\u53f7\u7801","refresh cycle in minutes":"\u4ee5\u5206\u949f\u4e3a\u5355\u4f4d\u7684\u5237\u65b0\u5468\u671f","profile":"\u8f6e\u5ed3","exclusions":"\u6392\u9664","driving":"\u7528\u4e8e\u6c7d\u8f66\u8def\u7531\u3002","driving-traffic":"\u7528\u4e8e\u6c7d\u8f66\u8def\u7531\u3002","cycling":"\u7528\u4e8e\u81ea\u884c\u8f66\u8def\u7ebf\u3002","walking":"\u7528\u4e8e\u6b65\u884c\u548c\u8fdc\u8db3\u8def\u7ebf\u3002","toll":"\u6536\u8d39","ferry":"\u6e21\u8239","motorway":"\u9ad8\u901f\u516c\u8def","name for the starting point":"\u8d77\u70b9\u7684\u540d\u79f0","name for the target point":"\u76ee\u6807\u70b9\u7684\u540d\u79f0","domains":"\u57df"}')},607:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(18),i=a.n(r),o=a(108),s=a(24),c=a(646),l=a(641),d=a(313),u=a(643),p=a(8),j=a(4);var b=Object(p.a)((e=>({root:{padding:e.spacing(0)}})))((e=>{let{children:t,classes:a,...n}=e;return Object(j.jsx)(l.a,{className:a.root,...n,children:Object(j.jsx)(d.a,{square:!0,style:{height:"100%"},elevation:0,children:Object(j.jsx)(u.a,{container:!0,direction:"row",children:Object(j.jsx)(u.a,{item:!0,xs:12,children:t})})})})})),g=a(212),m=a.n(g),h=a(213),x=a.n(h),f=(a(337),a(295)),O=a.n(f),A=a(79),y=a(301),v=a.n(y);const w=a(394),k=a(397),C=Object(n.createContext)({});class P extends O.a{constructor(e){super(e,{...e,encryptedFields:[],translations:{en:a(422),de:a(423),ru:a(424),pt:a(425),nl:a(426),fr:a(427),it:a(428),es:a(429),pl:a(430),"zh-cn":a(431)}}),this.state={...this.state,renewTimer:{},isInTransition:!1}}onConnectionReady(){if(!0===this.savedNative.httpsEnabled){const e=k.connect("https://".concat(document.domain,":").concat(this.savedNative.feathersPort),{rejectUnauthorized:!1});this.client.configure(w(e,{timeout:12e4}))}else{const e=k.connect("http://".concat(document.domain,":").concat(this.savedNative.feathersPort),{rejectUnauthorized:!1});this.client.configure(w(e,{timeout:12e4}))}this.socket.subscribeState("*.timer",!1,((e,t)=>{if(null===t){this.socket.unsubscribeState(e,null);const t=e.split(".")[2];this.setState({renewTimer:{...Object.fromEntries(Object.entries(this.state.renewTimer).filter((e=>{let[a]=e;return a!==t})))}})}else{const a=e.split(".")[2];this.setState({renewTimer:{...this.state.renewTimer,[a]:t.val}})}}))}onSave(e){this.savedNative.httpsEnabled===this.state.native.httpsEnabled&&this.savedNative.feathersPort===this.state.native.feathersPort?super.onSave(e):super.onSave(!0)}componentDidMount(){this.client=v()()}componentWillUnmount(){this.socket.unsubscribeState("*.timer",(()=>{}))}render(){if(!this.state.loaded)return super.render();const{children:e}=this.props,t={that:this,native:this.state.native,renewTimer:this.state.renewTimer,isInTransition:this.state.isInTransition,updateNativeValue:this.updateNativeValue.bind(this)};return Object(j.jsx)(A.a,{feathers:this.client,children:Object(j.jsx)(C.Provider,{value:t,children:e})})}}var F=Object(p.a)((e=>({})))(P);var E=a(652),z=a(682),M=a(653),T=a(14),B=a.n(T);const N=["/settings-1","/settings-2","/settings-3"];var S=Object(p.a)((e=>({})))((function(){const{isInTransition:e}=Object(n.useContext)(C);return Object(j.jsx)(s.b,{path:"/",render:t=>Object(j.jsx)(E.a,{position:"relative",children:Object(j.jsx)(d.a,{square:!0,children:Object(j.jsxs)(z.a,{value:"/"!==t.location.pathname&&t.location.pathname,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(j.jsx)(M.a,{disabled:e,label:B.a.t("routes"),value:N[0],component:o.b,to:N[0]}),Object(j.jsx)(M.a,{label:B.a.t("maps"),value:N[1],component:o.b,to:N[1]}),Object(j.jsx)(M.a,{disabled:e,label:B.a.t("settings"),value:N[2],component:o.b,to:N[2]})]})})})})})),R=a(303),I=a.n(R);var Z=Object(p.a)((e=>({})))((function(e){const{children:t}=e,{native:a,that:r}=Object(n.useContext)(C);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(u.a,{spacing:1,container:!0,direction:"column",children:[Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsxs)("header",{children:[Object(j.jsx)(I.a,{instance:r.instance,common:r.common,native:a,onError:e=>r.setState({errorText:e}),onLoad:r.onLoadConfig.bind(r)}),Object(j.jsx)(S,{})]})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:t})]}),Object(j.jsxs)("footer",{children:[r.renderError.bind(r)(),r.renderToast.bind(r)(),r.renderSaveCloseButtons.bind(r)()]})]})})),D=a(667),V=a(668),U=a(669),G=a(670),Q=a(671),J=a(672),W=a(660),Y=a(666),H=a(36),L=a(91),K=a(291),q=a(235),X=a(216),_=a(156),$=a.n(_),ee=a(241),te=a(239),ae=a(237),ne=a(662),re=a(663),ie=a(65),oe=a(310),se=a(686);var ce=Object(p.a)((e=>({textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"30ch"}})))((function(e){const{name:t,label:a,defaultValue:n,classes:r}=e,{control:i}=Object(H.g)(),{field:{ref:o,onChange:s,...c},fieldState:{error:l}}=Object(H.e)({name:t,control:i,defaultValue:n||""});return Object(j.jsx)(se.a,{size:"small",...c,onChange:e=>{let{target:{value:t}}=e;return s(t)},inputRef:o,className:r.textField,fullWidth:!0,label:a,variant:"filled",error:!!l,helperText:l?l.message:null})}));var le=Object(p.a)((e=>({})))((function(e){const{postfix:t,address:a}=e;return Object(j.jsxs)(u.a,{container:!0,item:!0,xs:12,direction:"column",alignItems:"center",spacing:1,children:[Object(j.jsx)(L.a,{variant:"h6",children:"ziel"===t?"Ziel":B.a.t(t)}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(ce,{label:B.a.t("description"),name:"".concat(t,".titel"),defaultValue:null===a||void 0===a?void 0:a.titel})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(ce,{label:B.a.t("country"),name:"".concat(t,".land"),defaultValue:null===a||void 0===a?void 0:a.land})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(ce,{label:B.a.t("postcode"),name:"".concat(t,".plz"),defaultValue:null===a||void 0===a?void 0:a.plz})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(ce,{label:B.a.t("location"),name:"".concat(t,".ort"),defaultValue:null===a||void 0===a?void 0:a.ort})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(ce,{label:B.a.t("street"),name:"".concat(t,".strasse"),defaultValue:null===a||void 0===a?void 0:a.strasse})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(ce,{label:B.a.t("house number"),name:"".concat(t,".nummer"),defaultValue:null===a||void 0===a?void 0:a.nummer})})]})})),de=a(685);var ue=Object(p.a)((e=>({})))((function(e){const{name:t,defaultValue:a}=e,{control:r,unregister:i}=Object(H.g)(),{field:{value:o,ref:s,onChange:c}}=Object(H.e)({defaultValue:a,control:r,name:t});return Object(n.useEffect)((()=>()=>i(t)),[i,t]),Object(j.jsx)(de.a,{size:"small",onChange:c,checked:o,inputRef:s})})),pe=a(656),je=a(615),be=a(616),ge=a(658);var me=Object(p.a)((e=>({})))((function(e){const{title:t,profile:a,checks:n}=e;return Object(j.jsx)(u.a,{container:!0,item:!0,xs:12,children:Object(j.jsxs)(pe.a,{margin:"dense",component:"fieldset",children:[Object(j.jsx)(je.a,{component:"legend",children:t}),Object(j.jsx)(be.a,{children:Object.entries(n).map(((e,t)=>Object(j.jsx)(ge.a,{control:Object(j.jsx)(ue,{defaultValue:e[1],name:"exclusion.".concat(a,".").concat(e[0])}),label:B.a.t(e[0])},"".concat(t,"-").concat(a))))})]})})})),he=a(659),xe=a(688),fe=a(683);var Oe=Object(p.a)((e=>({})))((function(e){const{title:t,radios:a,defaultValue:n}=e,{control:r}=Object(H.g)(),{field:{value:i,onChange:o}}=Object(H.e)({name:"profile",control:r,defaultValue:n});return Object(j.jsxs)(pe.a,{component:"fieldset",margin:"dense",children:[Object(j.jsx)(je.a,{component:"legend",children:t}),Object(j.jsx)(he.a,{onChange:o,value:i,children:Object.keys(a).map(((e,t)=>Object(j.jsx)(xe.a,{title:B.a.t(e),placement:"top",children:Object(j.jsx)(ge.a,{label:e,control:Object(j.jsx)(fe.a,{size:"small",color:"primary",value:e})})},t)))})]})})),Ae=a(661);const ye=e=>({root:{textAlign:"center",margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(2),color:e.palette.grey[500]}}),ve=Object(p.a)(ye)((e=>{const{children:t,classes:a,onClose:n,status:r,...i}=e;return Object(j.jsxs)(ee.a,{disableTypography:!0,className:a.root,...i,children:[Object(j.jsx)(L.a,{variant:"h4",children:t}),Object(j.jsx)(X.a,{disabled:"loading"===r,className:a.closeButton,onClick:n,children:Object(j.jsx)($.a,{})})]})})),we=Object(p.a)((e=>({root:{padding:e.spacing(2)}})))(te.a),ke=Object(p.a)((e=>({root:{margin:0,padding:e.spacing(2)}})))(ae.a);const Ce=ie.a((e=>ie.b().shape(Object.entries(e).filter((e=>{let[t,a]=e;return"exclusion"!==t&&(n=a,"[object Object]"===Object.prototype.toString.call(n));var n})).reduce(((e,t)=>{let[a]=t;return{...e,[a]:ie.b().shape({titel:ie.c().matches(/^[\s\w\-\u00C0-\u017F]+$/,"Erlaubt sind a-z, A-Z, 0-9, _, - und Leerzeichen.").required("Bezeichnung ist ein Pflichtfeld"),land:ie.c().matches(/^[\s\w\-\u00C0-\u017F]+$/,"Erlaubt sind a-z, A-Z, 0-9, _, - und Leerzeichen.").required("Land ist ein Pflichtfeld"),plz:ie.c().matches(/^([0][1-9]|[1-9][0-9])[0-9]{3}$/,"Kein g\xfcltiges PLZ-Format.").required("PLZ ist ein Pflichtfeld"),ort:ie.c().matches(/^[\s\w\-\u00C0-\u017F]+$/,"Erlaubt sind a-z, A-Z, 0-9, _, - und Leerzeichen.").required("Ort ist ein Pflichtfeld"),strasse:ie.c().matches(/^[\s\w\-\u00C0-\u017F]+$/,"Erlaubt sind a-z, A-Z, 0-9, _, - und Leerzeichen.").required("Strasse ist ein Pflichtfeld")})}}),{duration:ie.c().min(.5,"Refreshzyklus muss mindestens 30 Sek. sein.").max(1440,"Refreshzyklus muss kleiner als 24 Std. sein.").required("Refreshzyklus ist ein Pflichtfeld")}))));var Pe=Object(p.a)(ye)((e=>{const{open:t,setOpen:a,routeId:n}=e,r=Object(H.f)({mode:"onChange",resolver:Object(oe.a)(Ce)}),{handleSubmit:i,watch:o,formState:{isValid:s}}=r,{patch:c,status:l}=Object(W.a)("routes"),{status:d,data:p}=Object(Ae.a)("routes",n,{query:{$select:["_id","start","ziel","settings"]}}),b=o("profile"),g=function(){"backdropClick"!==(arguments.length<=1?void 0:arguments[1])&&a(!1)};return Object(j.jsx)(K.a,{disableEscapeKeyDown:"loading"===l,maxWidth:"md",open:t,onClose:g,children:Object(j.jsx)(H.a,{...r,children:Object(j.jsxs)("form",{onSubmit:i((async e=>{try{await c(n,{start:{...Object.fromEntries(Object.entries(e.start).map((e=>{let[t,a]=e;return[t,a.trim()]}))),geometry:p.start.geometry},ziel:{...Object.fromEntries(Object.entries(e.ziel).map((e=>{let[t,a]=e;return[t,a.trim()]}))),geometry:p.ziel.geometry},settings:{exclusion:{...p.settings.exclusion,["".concat(e.profile)]:void 0!==e.exclusion?e.exclusion[e.profile]:{}},profile:e.profile,duration:e.duration.trim()}})}catch(t){}("success"===l||"idle"===l)&&a(!1)})),style:{marginBlockEnd:0},children:[Object(j.jsx)(ve,{onClose:g,status:l,children:B.a.t("edit route")}),Object(j.jsxs)(we,{dividers:!0,children:[Object(j.jsxs)(u.a,{container:!0,justifyContent:"center",children:[Object(j.jsx)(u.a,{item:!0,xs:6,children:"success"===d&&Object(j.jsx)(le,{postfix:"start",address:p.start})}),Object(j.jsx)(u.a,{item:!0,xs:6,children:"success"===d&&Object(j.jsx)(le,{postfix:"ziel",address:p.ziel})})]}),Object(j.jsx)(ne.a,{style:{margin:"10px 0"}}),Object(j.jsx)(u.a,{container:!0,justifyContent:"center",children:"success"===d&&Object(j.jsx)(ce,{label:B.a.t("refresh cycle in minutes"),name:"duration",defaultValue:p.settings.duration})}),Object(j.jsx)(ne.a,{style:{margin:"10px 0"}}),Object(j.jsxs)(u.a,{container:!0,justifyContent:"space-around",children:[Object(j.jsx)(u.a,{item:!0,xs:4,children:"success"===d&&Object(j.jsx)(Oe,{title:B.a.t("profile"),defaultValue:b||p.settings.profile,radios:p.settings.exclusion})}),Object(j.jsx)(u.a,{item:!0,xs:4,children:"success"===d&&"walking"!==b&&Object(j.jsx)(me,{title:B.a.t("exclusions"),profile:b||p.settings.profile,checks:p.settings.exclusion[b||p.settings.profile]})})]})]}),Object(j.jsxs)(ke,{children:["loading"===l&&Object(j.jsx)("div",{style:{width:"100%"},children:Object(j.jsx)(re.a,{})}),Object(j.jsx)(q.a,{disabled:"loading"===l||!s,type:"submit",variant:"contained",children:"Ok"})]})]})})})})),Fe=a(673),Ee=a(674),ze=a(308),Me=a(243),Te=a(664),Be=a(665);var Ne=Object(p.a)((e=>({root:{boxShadow:"none","&:hover":{cursor:"pointer",textDecoration:"none",backgroundColor:"#c5c5c5"}}})))((function(e){let{classes:t,...a}=e;const[r,i]=Object(n.useState)(0);return Object(n.useEffect)((()=>{i(Math.round(100*(1-a.value/(60*a.duration))))}),[a.value,a.duration]),Object(j.jsxs)(Me.a,{className:t.root,onClick:a.onClick,size:"large",disabled:a.renewing,children:[Object(j.jsx)(Te.a,{size:56,thickness:1.6,variant:!0===a.renewing?"indeterminate":"determinate",value:r}),Object(j.jsx)(Be.a,{component:L.a,variant:"caption",sx:{top:2,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(o=a.value,(Math.floor(NaN)<10?("00"+Math.floor(o/3600)).slice(-2):Math.floor(o/3600))+":"+("00"+Math.floor(o%3600/60)).slice(-2)+":"+("00"+o%3600%60).slice(-2))})]});var o}));const Se={start:{titel:"",land:"",plz:"",ort:"",strasse:"",nummer:"",geometry:{lat:"",lng:""}},ziel:{titel:"",land:"",plz:"",ort:"",strasse:"",nummer:"",geometry:{lat:"",lng:""}},settings:{exclusion:Object.fromEntries(new Map([["driving",{toll:!1,ferry:!1,motorway:!1}],["driving-traffic",{toll:!1,ferry:!1,motorway:!1}],["cycling",{ferry:!1}],["walking",{}]])),profile:"driving",fixedTraps:!1,mobileTraps:!1,roadWorks:!1,trafficJams:!1,sleekness:!1,accidents:!1,fog:!1,objects:!1,duration:"30"}};var Re=Object(p.a)((e=>({})))((function(){const{renewTimer:e}=Object(n.useContext)(C),[t,a]=Object(n.useState)(!1),[r,i]=Object(n.useState)(null),{create:o,remove:s}=Object(W.a)("routes"),{status:c,data:l}=Object(Y.a)("routes",{realtime:"refetch"}),{status:p,update:b}=Object(W.a)("traps");return Object(j.jsxs)(j.Fragment,{children:[t&&Object(j.jsx)(Pe,{open:t,setOpen:a,routeId:r}),Object(j.jsxs)(u.a,{container:!0,direction:"column",alignItems:"center",spacing:2,children:[Object(j.jsx)(u.a,{item:!0,children:Object(j.jsx)(q.a,{onClick:()=>o(Se),variant:"contained",color:"primary",children:B.a.t("add route")})}),"success"===c&&0!==l.length&&Object(j.jsx)(u.a,{item:!0,container:!0,justifyContent:"center",children:Object(j.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(j.jsx)(D.a,{component:d.a,variant:"elevation",elevation:4,children:Object(j.jsxs)(V.a,{size:"small",children:[Object(j.jsx)(U.a,{children:Object(j.jsxs)(G.a,{children:[Object(j.jsx)(Q.a,{align:"center",children:Object(j.jsx)("b",{children:B.a.t("edit")})}),Object(j.jsx)(Q.a,{align:"center",children:Object(j.jsx)("b",{children:B.a.t("renew")})}),Object(j.jsx)(Q.a,{align:"left",children:Object(j.jsx)("b",{children:B.a.t("start")})}),Object(j.jsx)(Q.a,{align:"left",children:Object(j.jsx)("b",{children:B.a.t("target")})}),Object(j.jsx)(Q.a,{align:"center",children:Object(j.jsx)("b",{children:B.a.t("delete")})})]})}),Object(j.jsx)(J.a,{children:"success"===c&&l.map((t=>Object(j.jsxs)(G.a,{children:[Object(j.jsx)(Q.a,{align:"center",children:Object(j.jsx)(X.a,{disabled:"loading"===p,onClick:()=>{return e=t._id,i(e),void a(!0);var e},component:"span",children:Object(j.jsx)(Fe.a,{})})}),Object(j.jsx)(Q.a,{align:"center",children:void 0!==e[t._id]&&Object(j.jsx)(Ne,{onClick:()=>(e=>{i(e._id),e.traps&&b(e.traps._id,{routeId:e._id,directionId:e.direction._id,profile:e.settings.profile},Object(ze.paramsForServer)({from:"renew-handler"}))})(t),renewing:"loading"===p&&r===t._id||0===e[t._id],value:e[t._id],duration:t.settings.duration})}),Object(j.jsx)(Q.a,{children:t.start.titel||B.a.t("name for the starting point")}),Object(j.jsx)(Q.a,{children:t.ziel.titel||B.a.t("name for the target point")}),Object(j.jsx)(Q.a,{align:"center",children:Object(j.jsx)(X.a,{disabled:"loading"===p,onClick:()=>s(t._id),children:Object(j.jsx)(Ee.a,{})})})]},t._id)))})]})})})})]})]})}));var Ie=Object(p.a)((e=>({root:{padding:e.spacing(0),marginTop:e.spacing(2)}})))((function(e){let{classes:t}=e;return Object(j.jsx)(u.a,{container:!0,direction:"column",children:Object(j.jsx)(u.a,{className:t.root,item:!0,xs:12,children:Object(j.jsx)(Re,{})})})})),Ze=a(675),De=a(676),Ve=a(677),Ue=a(231);const Ge=Object(Ue.a)((e=>({title:{backgroundColor:e.palette.primary.main,margin:0,padding:"0 4px","& .MuiTypography-h5":{fontSize:"1.2rem"},textAlign:"center"}}))),Qe=Object(Ue.a)((e=>({root:{marginBottom:-24,padding:"0 8px"}})));var Je=function(e){let{info:t}=e;const a=Ge(),n=Qe();return Object(j.jsx)(Be.a,{sx:{margin:"-10px -10px -15px -10px",padding:0,minWidth:200},children:Object(j.jsxs)(Ze.a,{variant:"elevation",elevation:6,children:[Object(j.jsx)(Be.a,{component:"div",sx:{borderBottom:"2px solid black"},children:Object(j.jsx)(De.a,{className:a.title,title:t.typeText})}),Object(j.jsxs)(Ve.a,{className:n.root,children:[t.street&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"Ort: "}),t.street]}),t.vmax&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"H\xf6chstgeschwindigkeit: "}),t.vmax," km/h"]}),t.reason&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"Grund: "}),t.reason]}),t.length&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"Staul\xe4nge: "}),t.length," km"]}),t.duration&&0!==t.duration&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"Dauer: "}),t.duration," min."]}),t.delay&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"Verz\xf6gerung: "}),t.delay," min."]}),t.createDate&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"gemeldet: "}),t.createDate]}),t.confirmDate&&Object(j.jsxs)(L.a,{variant:"subtitle2",children:[Object(j.jsx)("b",{children:"best\xe4tigt: "}),t.confirmDate]})]})]})})},We=a(657),Ye=a(681),He=a(689),Le=a(678);var Ke=Object(p.a)((e=>({cardControl:{padding:e.spacing(1),opacity:.75},selectBg:{background:e.palette.primary.main}})))((function(e){const{classes:t,settings:a}=e,{status:n,data:r}=Object(Y.a)("routes");return Object(j.jsxs)(u.a,{container:!0,justifyContent:"space-between",className:t.cardControl,children:[Object(j.jsx)(u.a,{item:!0,xs:3,children:Object(j.jsxs)(pe.a,{component:d.a,elevation:4,size:"small",fullWidth:!0,variant:"outlined",children:[Object(j.jsx)(We.a,{children:"Route"}),Object(j.jsxs)(Ye.a,{style:{borderStyle:"hidden"},className:t.selectBg,label:B.a.t("route"),value:a.selectedRoute,onChange:e=>{a.setSelectedRoute(e.target.value)},children:[Object(j.jsx)(He.a,{value:"none",children:Object(j.jsx)("em",{children:"None"})}),"success"===n&&r.map((e=>Object(j.jsxs)(He.a,{value:e._id,children:[e.start.titel," nach ",e.ziel.titel]},e._id)))]})]})}),Object(j.jsx)(u.a,{item:!0,children:Object(j.jsx)(Me.a,{style:{opacity:.9},size:"medium",color:"primary",onClick:a.resetViewport,children:Object(j.jsx)(Le.a,{})})})]})})),qe=a(311);var Xe=(e,t)=>{const[a,r]=Object(n.useState)([]);return Object(n.useEffect)((()=>{if("success"!==e||0===t.length)return void r([]);const a=Object(qe.a)(t[0].directionLine);r(a)}),[e,t]),a},_e=a(40),$e=a(679);var et=e=>{const[t,a]=Object(n.useState)({width:"100%",height:window.innerHeight-208,longitude:10.129808,latitude:51.206213,zoom:5}),r=Object(n.useCallback)((()=>{if(0===e.length)return void a((e=>({...e,width:"100%",height:window.innerHeight-208,longitude:10.129808,latitude:51.206213,zoom:5,transitionDuration:"auto",transitionInterpolator:new _e.a,transitionEasing:$e.a})));const{longitude:t,latitude:n,zoom:r}=new _e.e({width:document.getElementById("trapMapContainer").clientWidth,height:document.getElementById("trapMapContainer").clientHeight}).fitBounds([[e[0],e[1]],[e[2],e[3]]],{padding:10,offset:[0,0]});a((e=>({...e,longitude:t,latitude:n,zoom:r,transitionDuration:"auto",transitionInterpolator:new _e.a,transitionEasing:$e.a})))}),[e]);return Object(n.useEffect)((()=>{r()}),[r]),[t,a,r]},tt=a(29);var at={route:{id:"route",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#9C27B0","line-width":5,"line-opacity":.8}},traps:{id:"traps",type:"symbol",layout:{"icon-allow-overlap":!0,"icon-image":["match",["get","type_name"],"fixed-trap","icon-fixed-trap","mobile-trap","icon-mobile-trap","traffic-jam","icon-traffic-jam","road-work","icon-road-work","accident","icon-accident","object","icon-object","sleekness","icon-sleekness","fog","icon-fog","wrong-way-driver","icon-wrong-way-driver",""],"icon-size":["interpolate",["linear"],["zoom"],1,.6,14,1.2]},paint:{"icon-color":"#263238","icon-opacity":.7}},clusterTraps:{id:"cluster-traps",type:"circle",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#E1BEE7",100,"#E1BEE7",750,"#E1BEE7"],"circle-radius":["step",["get","point_count"],15,2,15]}},clusterTrapsCount:{id:"cluster-traps-count",type:"symbol",filter:["has","point_count"],layout:{"text-allow-overlap":!0,"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},lineTraps:{id:"line-traps",type:"line",filter:["has","linetrap"],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ff0000","line-width":9,"line-opacity":1,"line-dasharray":[1,1.5]}}},nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAApCAYAAAC/QpA/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAURJREFUeNpiZGBguAPEYkD8m4F2gAeI04B4IT5FLEAsCMS8DLQH7IQUMDEMIjCoHMNCR7usgPgTEHNikWMG4i+MQOItEAsNgoBZP5gc48oAdcz/AcbnQElmsCTg+UD8ZzCEzBsgloK5aqAdMxM5iAbaMbaDxTEHBlMJvABdYKBC5iG0kh4UIbMWiN8PhpD5BcT62Fw4EI7ZMtC1di8QrwBifiC+O9COuQXEZ0ZbesOi2XkTiIVhVTiNADe2MgUdgFp6rATUwLIjKYARipHBXyD+R6mvmEmMTiaoHpIBIxFqQA2fOVD6Kx49/6HR8QyIk4D4Ba3i3BEa54RK1g9A7ESPxG4CxE/xOAQUIsb0zH2gyu0xFoc8AmKDgSgOYrE4Jm6gCr0vWMS+jVYHo44ZdcyoY4brmB6oz/MDqaDjgopRDAACDABukjwEm5dUfAAAAABJRU5ErkJggg==",rt=a.p+"static/media/icon-accident.5977639e.png",it="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAVCAYAAADM+lfpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAbVJREFUeNq0Vu1VgzAUDT0e/Skb2G7ACHQC2w3qBKUjOEHbCawTtBsAE6ATwAbgT/+I93keGtMkhNC+c+4JJJDc3LyPBCK4rYUQb+JyNgU27dfnaeiPAcgc0YaGceqPPAjR5hrGHsQyJzJt25oHJ3cvaFYjlapAZjaKDIiQKjW/PgPZQBL0/5Gfly7HdmMZ6xQhqQ/sC0Os4Q3EwBqbaxS1qiHKlEyAVHnkyYWHOpHiR9TXgMz8TBksmmgc+F5S4oHbuGfhHfBhINTNlUvEtNGkC+2o24Fj2EesoO7bNbDguWZQpLGFdiTJGbISK3Eds22u+fUZHFfhmVOGmikqc0FkZECpFGgZMRD+JMa/PleUwJRRdv3qejImtixKmZPP+NVDgROFL4ewW2noUSbhnRUeytSsbMzPvcqc5Rn4TuoQxt4GpQLT2MTg8eKK0eRem6AMRVRqqeRj7AnKHHwK5VYOdV365u8SLhdjbWMj8893TGfN+Ul3BJGibtZzIdvLSU+9ZLlMllsq+lZJovMex87kK8S7hm2oLKy7OFV89xnlY+SrtmNaSDujkr8zTYKmuIR3fwswAB8MCngRGiNsAAAAAElFTkSuQmCC",ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAcCAYAAADr9QYhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAalJREFUeNpiZGBguAPEYkD8m4E2gBWInwCxORB/xqNOF0S8BeL/NMbPgJgPj0Ncgfj2YHCMDxD/AOKPA+2YWCD+CVXzdiAdkwHEf5HUDJhjyrGooatjeKEOacGhhm6OeQINmQl41NDNMY+AeD0BNW+ZGOgD/gHxUSD+TkghvdIMOxB7AvGXgY4m5NzkgMPOAcvaoHrq6WBxDAjoAPHdweIYEFAA4kuDxTEgIAHE50AJmxFIPCaiPcMIrdA4gZgDSfwbEP8CYjaopdgAG7ScMQLiTzjUgOyfArJEBoiZ8RjGAC0fQEG6FYhFkcTvQJsAH6GW4vLIHyB+Di1vcAFuUgquDUjB/g+JPYuBzqAJyXJQlsyCBjlMLJteDglBS4zhUPE8JDFQNNrT2iGaQPwaydJONPkFSHKg9CNJK4eAEtQJJMt2QFv6yIAfiM8gqdkMzQxUBzORLHkIxHI41OkD8TsktU3UdkgWkuGg8sWFgPootJwWTC2HuEC7DjDDi4nU14VWzxhSwzGlSIYuI7HnuAdJbzy1QicCiHejlbbEABUgPgjEbuRYChBgAABhA6/giCviAAAAAElFTkSuQmCC",st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAYCAYAAABwZEQ3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAYlJREFUeNrMVsFxwjAQtHgkX5WgdOASnApwOnA6SAe4A5dgOoAOTDqgA9OB/eUTsfKcZxTFsg7ZMNHMDkiIY83urZRorZNYJOIlBRqgAzRQASq63kIyBZGw0T2djIeIpnUFZPfWFEPhiCE2rxIvLSCt5RPQAznN3/TP9cKuGUuGCKUWGQXUzpYTyLyzCy7xjCNb5pEt59bYJOsN5VmvuAWeQUZBzvKhMlHGZNa89sikKYfUQ1qb/DEGXR1o9RGH1cnQP2L/SEnrTYCMDmVPjGekMx9z5Jvx3WqxgY0BgQ5oHaP2FHTckaLGV7SBjQyuLOSP1khm7csZMo1mlrEy9c78jFTdAybqzzP75mSuYv8ZSU/TjZ3DNHYI6apXCOYp7kNz96kNwxUkwZY65gh5+ol9B+u05o5PI3lQJusWN2XAYmK/jsAvM4d8wgqwmRObgzLUTWoi3P5khvV+u+CA3UFi5Q09atn9TAHz+dFDLGYMlzIx+GL+6aWHjG3ibIUryIcYdPsf43ITYABFyck/+B04TwAAAABJRU5ErkJggg==",ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAcCAYAAADr9QYhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAhFJREFUeNq8VtFtwjAQNREDpH+V2g86QdMNkgkKEzRsUCagncDpBIEJYAPCBM0GUKmV+tdsQM/oWToZh5gk+KSTk4Dt53fndzc4HA6ird3d3qc05HgtyCc/v99V2/UGbcEQkJCGP+PzjMBkbcEEor1Flm9hh/XE8MypJfnI8rMKw5Z8QV4aoIouYKxhIjAqD9KGuQpIQj4H6CWFaN0rGAKiFt65TKbNB6JHs+VMzp6fsOFUeLDAYCWmIcbrgoCUeJ57B0P2wp6XAPhak8hXB/PFbsyKgIx9sXIChsLypvKDxhsa1c1YddWOXhQYWrOzgCl0Xvm4TdriGiBbr8xAazbkewCKmNCpb+NrMOOiwCUrAY8aiJcwgZXUKIg6RyZIbD9hsrDCC2GCd6mFEW1DdabV4IdTQrp3AmOpSw9YSGuNWmiCfAoRPvUtsQFC8yXZRajw39IlTLwuHU8B7dGTR1DpJ/J3gFW2o42jmi4wNPqdHLJRD8aoSwKbaZviVMcc0iDBRoI8+gQAAWDyTFMmm5jhsp/x2ILWsqaNqMinAK9OLR2UO0XNOwVjsFIZrLjaGvnjWljnZmgDCysfl3b4yIH8wup+kj8B4sxZyVoA2dQ06C5NveTMdGIFi0UdtC7ViT9k1LZhRTo07k4HorWKgF3ZWQMrWwPIGMnahx3zJ4BOlARk0TAhg/xre+65NMX/AgwAWvff/flq14gAAAAASUVORK5CYII=",lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAdCAYAAAAgqdWEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnVJREFUeNq0V71uE0EQdowLkPgxFQIK7g24PIGdN7CfANNRJl26QEcX8QRJylQkT+Cjo+N4gpwLEOk2ipCgyzfWt9J42d3bW84jTSbr3b35bmZ29rvRoIO8ePZyAXPCYQX9Ivbn9Y9q0IPsdABSwnyLLLlQ4OqtgQGQMYEU4hTO5gQ3hU5ox2qLcSJX9wnmM8wM2kB38XATiFwbuLe+vclg4OQYZp/D3dS3DIATMKehPfcSCvYjhwJi9ejhY3P7+9a0gcGaX9Cv0HPseUBA3zEOFvsoAqRQJ0ektGPMNU5NNC3Y7PwktmgUmZtG5gTogpoCrvmvAoaDE+ssQzbA8bcr+QOgOzlgrhiBPqRmmqOHYNiSir6kDPyfDKYebEeKHDB7zLfpGYzpDIad0jYrw0h9UAWZK1l9Rh9tAXQJgO+ded1hk6IS6+Bd+kzlRK7SvyWCq3L7jFT9kX0wnD/tSDeWTmSl98yzIsNN88y6mDm39l4KARtu6fhOPCltlVEgxCX7wcRpVuMAw/vkOCxT6+SfmmHxvfGEt+KRvqGVudcci7xympi0gAOum/FlBOhFEhjnQpSHCfk5s4VGynnEhxfqElwRoLGpIO2wIC5jRCqUpoW6aX2Ucsmwm1ghqi+Hmqem6VpoQ3UHjVvat9iCkfIRdkvEDnKArGknKOE57F/ofehzlxZifIY1K6ZIuPA7oZF6Hcay99AWL8bXUKGdf7by3eQh5xspY5qOPRGuAozgRpVHLTXa5SPOdeYlSepa8PUcDeIJa9Gu9YNRl+SUx3eqjrBhXZz20R3ha58vudn0MLH0XHKWPqw/X1N7Rke+vG6edwIMANtEHDxcLNzVAAAAAElFTkSuQmCC",dt=a.p+"static/media/icon-traffic-jam.86e4d870.png",ut="data:image/png;base64,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";var pt=Object(p.a)((e=>({})))((function(){const{that:e}=Object(n.useContext)(C),[t,a]=Object(n.useState)(null),[r,i]=Object(n.useState)(null),[o,s]=Object(n.useState)("none"),c=Object(n.useRef)(null),{status:l,data:d}=Object(Y.a)("routes",{query:"none"===o?{_id:""}:{_id:o}}),{status:p,data:b}=Object(Y.a)("directions",{query:d&&"success"===l&&0!==d.length?{routeId:d[0]._id}:{routeId:""}}),{status:g,data:m}=Object(Y.a)("traps",{query:d&&"success"===l&&0!==d.length?{routeId:d[0]._id}:{routeId:""}}),h=Xe(p,b),[x,f,O]=et(h);Object(n.useEffect)((()=>{"success"===g&&0!==m.length?a(Object(tt.b)(...m.map((e=>Object.values(e).reduce(((e,t)=>{if(a=t,"function"===typeof Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)){const a=t.filter((e=>""!==e.properties.polyline)).map((e=>e.properties.polyline));return[...e,...t,...a]}var a;return e}),[]))))):a(null)}),[m,g]),Object(n.useEffect)((()=>{let e;const t=()=>{clearTimeout(e),e=setTimeout((function(){O()}),250),f((e=>({...e,width:"100%",height:window.innerHeight-208})))};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[O,f]),Object(n.useEffect)((()=>{[{id:"icon-fixed-trap",png:nt},{id:"icon-mobile-trap",png:ot},{id:"icon-traffic-jam",png:dt},{id:"icon-road-work",png:ct},{id:"icon-accident",png:rt},{id:"icon-object",png:st},{id:"icon-sleekness",png:lt},{id:"icon-fog",png:it},{id:"icon-wrong-way-driver",png:ut}].forEach((e=>{c.current.getMap().hasImage(e.id)||c.current.getMap().loadImage(e.png,((t,a)=>{if(t)throw t;c.current.getMap().addImage(e.id,a,{sdf:!0})}))}))}),[c]);const A=Object(n.useCallback)((e=>{const t=0!==e.features.length&&e.features[0].properties;if(!t||t.cluster)i(null);else{const a="false"!==t.info&&JSON.parse(t.info);i({longitude:e.lngLat[0],latitude:e.lngLat[1],typeText:t.type_text,street:t.street,vmax:t.vmax&&"?"!==t.vmax&&t.vmax,createDate:"0000-00-00 00:00:00"!==t.create_date&&t.create_date,confirmDate:"0000-00-00 00:00:00"!==t.confirm_date&&t.confirm_date,reason:a&&a.reason&&a.reason,length:a&&a.length&&a.length,duration:a&&a.duration&&Math.round(+a.duration/60),delay:a&&a.delay&&Math.round(+a.delay/60)})}}),[]);return Object(j.jsx)(u.a,{container:!0,justifyContent:"center",id:"trapMapContainer",children:Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsxs)(_e.f,{...x,onInteractionStateChange:t=>{e.setState({...e.state,isInTransition:t.inTransition})},mapboxApiAccessToken:e.savedNative.mbxAccessToken,mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:f,interactiveLayerIds:null!==t&&["cluster-traps","traps"]||[],onClick:e=>{if(!e.features.length||!e.features[0].properties.cluster_id)return;const t=e.features[0],a=t.properties.cluster_id,n=t.source;c.current.getMap().getSource(n).getClusterExpansionZoom(a,((e,a)=>{e||f({...x,longitude:t.geometry.coordinates[0],latitude:t.geometry.coordinates[1],zoom:a,transitionDuration:"auto",transitionInterpolator:new _e.a,transitionEasing:$e.a})}))},onHover:A,ref:c,attributionControl:!1,children:[Object(j.jsx)(Ke,{settings:{selectedRoute:o,setSelectedRoute:s,resetViewport:O}}),null!==r&&Object(j.jsx)(_e.c,{anchor:"top",longitude:r.longitude,latitude:r.latitude,closeButton:!1,children:Object(j.jsx)(Je,{info:r})}),"success"===p&&0!==b.length&&Object(j.jsx)(_e.d,{type:"geojson",data:Object(tt.a)(b[0].directionLine),children:Object(j.jsx)(_e.b,{...at.route})}),null!==t&&Object(j.jsx)(_e.d,{type:"geojson",data:t,children:Object(j.jsx)(_e.b,{...at.lineTraps})}),null!==t&&Object(j.jsxs)(_e.d,{type:"geojson",data:t,cluster:!0,clusterMaxZoom:14,clusterRadius:50,children:[Object(j.jsx)(_e.b,{...at.traps}),Object(j.jsx)(_e.b,{...at.clusterTraps}),Object(j.jsx)(_e.b,{...at.clusterTrapsCount})]})]})})})}));var jt=Object(p.a)((e=>({})))((function(){return Object(j.jsx)(u.a,{container:!0,justifyContent:"center",children:Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(pt,{})})})})),bt=a(680);class gt extends n.Component{render(){const{classes:e}=this.props,{native:t,updateNativeValue:a}=this.context,{attr:n,type:r,title:i,disabled:o}=this.props;return Object(j.jsx)(se.a,{disabled:o||!1,className:e.textField,label:B.a.t(i),fullWidth:!0,variant:"filled",value:t[n],type:r||"text",onChange:e=>{a(n,"number"===r?Number(e.target.value):e.target.value)},margin:"dense"})}}gt.contextType=C;var mt=Object(p.a)((e=>({textField:{marginLeft:e.spacing(0),marginRight:e.spacing(0)}})))(gt);class ht extends n.Component{render(){const{native:e,updateNativeValue:t}=this.context,{attr:a,title:n}=this.props;return Object(j.jsx)(ge.a,{control:Object(j.jsx)(de.a,{checked:e[a],onChange:()=>t(a,!e[a]),color:"primary"}),label:B.a.t(n)},a)}}ht.contextType=C;var xt=Object(p.a)((e=>({})))(ht);var ft=Object(p.a)((e=>({underlineAlways:{color:e.palette.primary.main,textTransform:"none","&:hover":{color:e.palette.primary.dark}},grid:{padding:e.spacing(1),marginTop:e.spacing(2)}})))((function(e){let{classes:t}=e;const{native:a}=Object(n.useContext)(C);return Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(u.a,{container:!0,justifyContent:"center",children:Object(j.jsxs)(u.a,{className:t.grid,component:d.a,variant:"elevation",elevation:4,item:!0,xs:11,children:[Object(j.jsx)(u.a,{item:!0,xs:2,children:Object(j.jsx)(xt,{title:"HTTPS",attr:"httpsEnabled"})}),Object(j.jsx)(u.a,{item:!0,xs:12,children:Object(j.jsx)(mt,{title:"domains",attr:"domains",type:"text",disabled:!a.httpsEnabled})})]})}),Object(j.jsx)(u.a,{container:!0,justifyContent:"center",children:Object(j.jsxs)(u.a,{className:t.grid,component:d.a,variant:"elevation",elevation:4,item:!0,xs:11,children:[Object(j.jsx)(u.a,{item:!0,xs:2,children:Object(j.jsx)(mt,{title:"Feathers Port",attr:"feathersPort",type:"number"})}),Object(j.jsxs)(u.a,{item:!0,xs:12,children:[Object(j.jsx)(mt,{title:"Mapbox Token",attr:"mbxAccessToken",type:"text"}),Object(j.jsx)(bt.a,{classes:{underlineAlways:t.underlineAlways},variant:"body2",target:"_blank",rel:"noopener",underline:"always",href:"https://mapbox.com",children:"Mapbox Token bekommen"})]}),Object(j.jsxs)(u.a,{item:!0,xs:12,children:[Object(j.jsx)(mt,{title:"OpenCage ID",attr:"opencageId",type:"text"}),Object(j.jsx)(bt.a,{classes:{underlineAlways:t.underlineAlways},variant:"body2",target:"_blank",rel:"noopener",underline:"always",href:"https://opencagedata.com",children:"OpenCage ID bekommen"})]})]})})]})}));let Ot=x.a.getThemeName();!function e(){i.a.render(Object(j.jsx)(c.a,{theme:m()(Ot),children:Object(j.jsx)(b,{maxWidth:"xl",children:Object(j.jsx)(F,{adapterName:"radar-trap",onThemeChange:t=>{Ot=t,e()},children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(s.a,{from:"/",to:"/settings-1",exact:!0}),Object(j.jsx)(Z,{children:Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{path:"/settings-1",exact:!0,component:Ie}),Object(j.jsx)(s.b,{path:"/settings-2",exact:!0,component:jt}),Object(j.jsx)(s.b,{path:"/settings-3",exact:!0,component:ft})]})})]})})})}),document.getElementById("root"))}()}},[[607,1,2]]]);
//# sourceMappingURL=main.bd7086db.chunk.js.map